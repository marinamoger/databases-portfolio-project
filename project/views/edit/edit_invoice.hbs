<!--
Project Name: Old Mikeâ€™s Car Full-Service Transaction Management System
Project Group: 45
Group Members: Lei Feng, Marina Moger
Description: The project's edit invoice page.
Citation: All code in this file without citation is original.
-->

<h1>Edit Invoice</h1>
{{#if invoice}}
<div>
  {{! UPDATE form }}
  <form method='POST' action="/invoice/update">
    <table>
      <input type="hidden" name="update_id_invoice" id="update_id_invoice" value="{{invoice.id_invoice}}">
      <thead>
        <tr>
          <th>Customer ID</th>
          <th>Employee ID</th>
          <th>Location ID</th>
          <th>Date</th>
          <th colspan="2" style="text-align: center;">Action</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="interactive_cell">
            <select name="update_id_customer" id="update_id_customer" required>
              <option value="{{invoice.id_customer}}" selected hidden>{{invoice.id_customer}} - {{invoice.name_customer}}</option>
              {{#each customers}}
              <option value="{{this.id_customer}}">{{this.id_customer}} - {{this.first_name}} {{this.last_name}}</option>
              {{/each}}
            </select>
          </td>
          <td class="interactive_cell">
            <select name="update_id_employee" id="update_id_employee" required>
              <option value="{{invoice.id_employee}}" selected hidden>{{invoice.id_employee}} - {{invoice.name_employee}}</option>
              {{#each employees}}
              <option value="{{this.id_employee}}">{{this.id_employee}} - {{this.first_name}} {{this.last_name}}</option>
              {{/each}}
            </select>
          </td>
          <td class="interactive_cell">
            <select name="update_id_location" id="update_id_location" required>
              <option value="{{invoice.id_location}}" selected hidden>{{invoice.id_location}} - {{invoice.name_location}}</option>
              {{#each locations}}
              <option value="{{this.id_location}}">{{this.id_location}} - {{this.name}}</option>
              {{/each}}
            </select>
          </td>
          <td class="interactive_cell">
            <input type="datetime-local" name="update_date" id="update_date" step="1" value="{{date}}" class="date_input" required/>
          </td>
          <td class="interactive_cell">
            <button type="submit">Confirm</button>
          </td>
          <td class="interactive_cell">
            <button type="button" onclick="window.location.href='/invoices'">Cancel</a>
          </td>
        </tr>
      </tbody>
    </table>
  </form>
</div>
{{else}}
<p>No such invoice existed.</p>
{{/if}}
